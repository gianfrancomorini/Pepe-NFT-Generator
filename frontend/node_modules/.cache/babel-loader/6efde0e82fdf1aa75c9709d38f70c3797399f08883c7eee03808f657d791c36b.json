{"ast":null,"code":"const {\n  Buffer\n} = require('buffer');\nconst alloc = Buffer.alloc;\nconst ZEROS = '0000000000000000000';\nconst SEVENS = '7777777777777777777';\nconst ZERO_OFFSET = '0'.charCodeAt(0);\nconst USTAR_MAGIC = Buffer.from('ustar\\x00', 'binary');\nconst USTAR_VER = Buffer.from('00', 'binary');\nconst MASK = parseInt('7777', 8);\nconst MAGIC_OFFSET = 257;\nconst VERSION_OFFSET = 263;\nconst toTypeflag = function (flag) {\n  switch (flag) {\n    case 'file':\n      return 0;\n    case 'link':\n      return 1;\n    case 'symlink':\n      return 2;\n    case 'character-device':\n      return 3;\n    case 'block-device':\n      return 4;\n    case 'directory':\n      return 5;\n    case 'fifo':\n      return 6;\n    case 'contiguous-file':\n      return 7;\n    case 'pax-header':\n      return 72;\n  }\n  return 0;\n};\nconst cksum = function (block) {\n  let sum = 8 * 32;\n  for (let i = 0; i < 148; i++) sum += block[i];\n  for (let j = 156; j < 512; j++) sum += block[j];\n  return sum;\n};\nconst encodeOct = function (val, n) {\n  val = val.toString(8);\n  if (val.length > n) return SEVENS.slice(0, n) + ' ';else return ZEROS.slice(0, n - val.length) + val + ' ';\n};\nconst addLength = function (str) {\n  const len = Buffer.byteLength(str);\n  let digits = Math.floor(Math.log(len) / Math.log(10)) + 1;\n  if (len + digits >= Math.pow(10, digits)) digits++;\n  return len + digits + str;\n};\nexports.encodePax = function (opts) {\n  // TODO: encode more stuff in pax\n  let result = '';\n  if (opts.name) result += addLength(' path=' + opts.name + '\\n');\n  if (opts.linkname) result += addLength(' linkpath=' + opts.linkname + '\\n');\n  const pax = opts.pax;\n  if (pax) {\n    for (const key in pax) {\n      result += addLength(' ' + key + '=' + pax[key] + '\\n');\n    }\n  }\n  return Buffer.from(result);\n};\nexports.encode = function (opts) {\n  const buf = alloc(512);\n  let name = opts.name;\n  let prefix = '';\n  if (opts.typeflag === 5 && name[name.length - 1] !== '/') name += '/';\n  if (Buffer.byteLength(name) !== name.length) return null; // utf-8\n\n  while (Buffer.byteLength(name) > 100) {\n    const i = name.indexOf('/');\n    if (i === -1) return null;\n    prefix += prefix ? '/' + name.slice(0, i) : name.slice(0, i);\n    name = name.slice(i + 1);\n  }\n  if (Buffer.byteLength(name) > 100 || Buffer.byteLength(prefix) > 155) return null;\n  if (opts.linkname && Buffer.byteLength(opts.linkname) > 100) return null;\n  buf.write(name);\n  buf.write(encodeOct(opts.mode & MASK, 6), 100);\n  buf.write(encodeOct(opts.uid, 6), 108);\n  buf.write(encodeOct(opts.gid, 6), 116);\n  buf.write(encodeOct(opts.size, 11), 124);\n  buf.write(encodeOct(opts.mtime.getTime() / 1000 | 0, 11), 136);\n  buf[156] = ZERO_OFFSET + toTypeflag(opts.type);\n  if (opts.linkname) buf.write(opts.linkname, 157);\n  USTAR_MAGIC.copy(buf, MAGIC_OFFSET);\n  USTAR_VER.copy(buf, VERSION_OFFSET);\n  if (opts.uname) buf.write(opts.uname, 265);\n  if (opts.gname) buf.write(opts.gname, 297);\n  buf.write(encodeOct(opts.devmajor || 0, 6), 329);\n  buf.write(encodeOct(opts.devminor || 0, 6), 337);\n  if (prefix) buf.write(prefix, 345);\n  buf.write(encodeOct(cksum(buf), 6), 148);\n  return buf;\n};","map":{"version":3,"names":["Buffer","require","alloc","ZEROS","SEVENS","ZERO_OFFSET","charCodeAt","USTAR_MAGIC","from","USTAR_VER","MASK","parseInt","MAGIC_OFFSET","VERSION_OFFSET","toTypeflag","flag","cksum","block","sum","i","j","encodeOct","val","n","toString","length","slice","addLength","str","len","byteLength","digits","Math","floor","log","pow","exports","encodePax","opts","result","name","linkname","pax","key","encode","buf","prefix","typeflag","indexOf","write","mode","uid","gid","size","mtime","getTime","type","copy","uname","gname","devmajor","devminor"],"sources":["/Users/gianfrancomorini/Pepe-NFT-Generator/node_modules/it-tar/pack-headers.js"],"sourcesContent":["const { Buffer } = require('buffer')\n\nconst alloc = Buffer.alloc\n\nconst ZEROS = '0000000000000000000'\nconst SEVENS = '7777777777777777777'\nconst ZERO_OFFSET = '0'.charCodeAt(0)\nconst USTAR_MAGIC = Buffer.from('ustar\\x00', 'binary')\nconst USTAR_VER = Buffer.from('00', 'binary')\nconst MASK = parseInt('7777', 8)\nconst MAGIC_OFFSET = 257\nconst VERSION_OFFSET = 263\n\nconst toTypeflag = function (flag) {\n  switch (flag) {\n    case 'file':\n      return 0\n    case 'link':\n      return 1\n    case 'symlink':\n      return 2\n    case 'character-device':\n      return 3\n    case 'block-device':\n      return 4\n    case 'directory':\n      return 5\n    case 'fifo':\n      return 6\n    case 'contiguous-file':\n      return 7\n    case 'pax-header':\n      return 72\n  }\n\n  return 0\n}\n\nconst cksum = function (block) {\n  let sum = 8 * 32\n  for (let i = 0; i < 148; i++) sum += block[i]\n  for (let j = 156; j < 512; j++) sum += block[j]\n  return sum\n}\n\nconst encodeOct = function (val, n) {\n  val = val.toString(8)\n  if (val.length > n) return SEVENS.slice(0, n) + ' '\n  else return ZEROS.slice(0, n - val.length) + val + ' '\n}\n\nconst addLength = function (str) {\n  const len = Buffer.byteLength(str)\n  let digits = Math.floor(Math.log(len) / Math.log(10)) + 1\n  if (len + digits >= Math.pow(10, digits)) digits++\n\n  return (len + digits) + str\n}\n\nexports.encodePax = function (opts) { // TODO: encode more stuff in pax\n  let result = ''\n  if (opts.name) result += addLength(' path=' + opts.name + '\\n')\n  if (opts.linkname) result += addLength(' linkpath=' + opts.linkname + '\\n')\n  const pax = opts.pax\n  if (pax) {\n    for (const key in pax) {\n      result += addLength(' ' + key + '=' + pax[key] + '\\n')\n    }\n  }\n  return Buffer.from(result)\n}\n\nexports.encode = function (opts) {\n  const buf = alloc(512)\n  let name = opts.name\n  let prefix = ''\n\n  if (opts.typeflag === 5 && name[name.length - 1] !== '/') name += '/'\n  if (Buffer.byteLength(name) !== name.length) return null // utf-8\n\n  while (Buffer.byteLength(name) > 100) {\n    const i = name.indexOf('/')\n    if (i === -1) return null\n    prefix += prefix ? '/' + name.slice(0, i) : name.slice(0, i)\n    name = name.slice(i + 1)\n  }\n\n  if (Buffer.byteLength(name) > 100 || Buffer.byteLength(prefix) > 155) return null\n  if (opts.linkname && Buffer.byteLength(opts.linkname) > 100) return null\n\n  buf.write(name)\n  buf.write(encodeOct(opts.mode & MASK, 6), 100)\n  buf.write(encodeOct(opts.uid, 6), 108)\n  buf.write(encodeOct(opts.gid, 6), 116)\n  buf.write(encodeOct(opts.size, 11), 124)\n  buf.write(encodeOct((opts.mtime.getTime() / 1000) | 0, 11), 136)\n\n  buf[156] = ZERO_OFFSET + toTypeflag(opts.type)\n\n  if (opts.linkname) buf.write(opts.linkname, 157)\n\n  USTAR_MAGIC.copy(buf, MAGIC_OFFSET)\n  USTAR_VER.copy(buf, VERSION_OFFSET)\n  if (opts.uname) buf.write(opts.uname, 265)\n  if (opts.gname) buf.write(opts.gname, 297)\n  buf.write(encodeOct(opts.devmajor || 0, 6), 329)\n  buf.write(encodeOct(opts.devminor || 0, 6), 337)\n\n  if (prefix) buf.write(prefix, 345)\n\n  buf.write(encodeOct(cksum(buf), 6), 148)\n\n  return buf\n}\n"],"mappings":"AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAEpC,MAAMC,KAAK,GAAGF,MAAM,CAACE,KAAK;AAE1B,MAAMC,KAAK,GAAG,qBAAqB;AACnC,MAAMC,MAAM,GAAG,qBAAqB;AACpC,MAAMC,WAAW,GAAG,GAAG,CAACC,UAAU,CAAC,CAAC,CAAC;AACrC,MAAMC,WAAW,GAAGP,MAAM,CAACQ,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;AACtD,MAAMC,SAAS,GAAGT,MAAM,CAACQ,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;AAC7C,MAAME,IAAI,GAAGC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;AAChC,MAAMC,YAAY,GAAG,GAAG;AACxB,MAAMC,cAAc,GAAG,GAAG;AAE1B,MAAMC,UAAU,GAAG,SAAAA,CAAUC,IAAI,EAAE;EACjC,QAAQA,IAAI;IACV,KAAK,MAAM;MACT,OAAO,CAAC;IACV,KAAK,MAAM;MACT,OAAO,CAAC;IACV,KAAK,SAAS;MACZ,OAAO,CAAC;IACV,KAAK,kBAAkB;MACrB,OAAO,CAAC;IACV,KAAK,cAAc;MACjB,OAAO,CAAC;IACV,KAAK,WAAW;MACd,OAAO,CAAC;IACV,KAAK,MAAM;MACT,OAAO,CAAC;IACV,KAAK,iBAAiB;MACpB,OAAO,CAAC;IACV,KAAK,YAAY;MACf,OAAO,EAAE;EACb;EAEA,OAAO,CAAC;AACV,CAAC;AAED,MAAMC,KAAK,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAC7B,IAAIC,GAAG,GAAG,CAAC,GAAG,EAAE;EAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAED,GAAG,IAAID,KAAK,CAACE,CAAC,CAAC;EAC7C,KAAK,IAAIC,CAAC,GAAG,GAAG,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAEF,GAAG,IAAID,KAAK,CAACG,CAAC,CAAC;EAC/C,OAAOF,GAAG;AACZ,CAAC;AAED,MAAMG,SAAS,GAAG,SAAAA,CAAUC,GAAG,EAAEC,CAAC,EAAE;EAClCD,GAAG,GAAGA,GAAG,CAACE,QAAQ,CAAC,CAAC,CAAC;EACrB,IAAIF,GAAG,CAACG,MAAM,GAAGF,CAAC,EAAE,OAAOnB,MAAM,CAACsB,KAAK,CAAC,CAAC,EAAEH,CAAC,CAAC,GAAG,GAAG,MAC9C,OAAOpB,KAAK,CAACuB,KAAK,CAAC,CAAC,EAAEH,CAAC,GAAGD,GAAG,CAACG,MAAM,CAAC,GAAGH,GAAG,GAAG,GAAG;AACxD,CAAC;AAED,MAAMK,SAAS,GAAG,SAAAA,CAAUC,GAAG,EAAE;EAC/B,MAAMC,GAAG,GAAG7B,MAAM,CAAC8B,UAAU,CAACF,GAAG,CAAC;EAClC,IAAIG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACL,GAAG,CAAC,GAAGG,IAAI,CAACE,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;EACzD,IAAIL,GAAG,GAAGE,MAAM,IAAIC,IAAI,CAACG,GAAG,CAAC,EAAE,EAAEJ,MAAM,CAAC,EAAEA,MAAM,EAAE;EAElD,OAAQF,GAAG,GAAGE,MAAM,GAAIH,GAAG;AAC7B,CAAC;AAEDQ,OAAO,CAACC,SAAS,GAAG,UAAUC,IAAI,EAAE;EAAE;EACpC,IAAIC,MAAM,GAAG,EAAE;EACf,IAAID,IAAI,CAACE,IAAI,EAAED,MAAM,IAAIZ,SAAS,CAAC,QAAQ,GAAGW,IAAI,CAACE,IAAI,GAAG,IAAI,CAAC;EAC/D,IAAIF,IAAI,CAACG,QAAQ,EAAEF,MAAM,IAAIZ,SAAS,CAAC,YAAY,GAAGW,IAAI,CAACG,QAAQ,GAAG,IAAI,CAAC;EAC3E,MAAMC,GAAG,GAAGJ,IAAI,CAACI,GAAG;EACpB,IAAIA,GAAG,EAAE;IACP,KAAK,MAAMC,GAAG,IAAID,GAAG,EAAE;MACrBH,MAAM,IAAIZ,SAAS,CAAC,GAAG,GAAGgB,GAAG,GAAG,GAAG,GAAGD,GAAG,CAACC,GAAG,CAAC,GAAG,IAAI,CAAC;IACxD;EACF;EACA,OAAO3C,MAAM,CAACQ,IAAI,CAAC+B,MAAM,CAAC;AAC5B,CAAC;AAEDH,OAAO,CAACQ,MAAM,GAAG,UAAUN,IAAI,EAAE;EAC/B,MAAMO,GAAG,GAAG3C,KAAK,CAAC,GAAG,CAAC;EACtB,IAAIsC,IAAI,GAAGF,IAAI,CAACE,IAAI;EACpB,IAAIM,MAAM,GAAG,EAAE;EAEf,IAAIR,IAAI,CAACS,QAAQ,KAAK,CAAC,IAAIP,IAAI,CAACA,IAAI,CAACf,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAEe,IAAI,IAAI,GAAG;EACrE,IAAIxC,MAAM,CAAC8B,UAAU,CAACU,IAAI,CAAC,KAAKA,IAAI,CAACf,MAAM,EAAE,OAAO,IAAI,EAAC;;EAEzD,OAAOzB,MAAM,CAAC8B,UAAU,CAACU,IAAI,CAAC,GAAG,GAAG,EAAE;IACpC,MAAMrB,CAAC,GAAGqB,IAAI,CAACQ,OAAO,CAAC,GAAG,CAAC;IAC3B,IAAI7B,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,IAAI;IACzB2B,MAAM,IAAIA,MAAM,GAAG,GAAG,GAAGN,IAAI,CAACd,KAAK,CAAC,CAAC,EAAEP,CAAC,CAAC,GAAGqB,IAAI,CAACd,KAAK,CAAC,CAAC,EAAEP,CAAC,CAAC;IAC5DqB,IAAI,GAAGA,IAAI,CAACd,KAAK,CAACP,CAAC,GAAG,CAAC,CAAC;EAC1B;EAEA,IAAInB,MAAM,CAAC8B,UAAU,CAACU,IAAI,CAAC,GAAG,GAAG,IAAIxC,MAAM,CAAC8B,UAAU,CAACgB,MAAM,CAAC,GAAG,GAAG,EAAE,OAAO,IAAI;EACjF,IAAIR,IAAI,CAACG,QAAQ,IAAIzC,MAAM,CAAC8B,UAAU,CAACQ,IAAI,CAACG,QAAQ,CAAC,GAAG,GAAG,EAAE,OAAO,IAAI;EAExEI,GAAG,CAACI,KAAK,CAACT,IAAI,CAAC;EACfK,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACiB,IAAI,CAACY,IAAI,GAAGxC,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;EAC9CmC,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACiB,IAAI,CAACa,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;EACtCN,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACiB,IAAI,CAACc,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;EACtCP,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACiB,IAAI,CAACe,IAAI,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC;EACxCR,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAAEiB,IAAI,CAACgB,KAAK,CAACC,OAAO,CAAC,CAAC,GAAG,IAAI,GAAI,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC;EAEhEV,GAAG,CAAC,GAAG,CAAC,GAAGxC,WAAW,GAAGS,UAAU,CAACwB,IAAI,CAACkB,IAAI,CAAC;EAE9C,IAAIlB,IAAI,CAACG,QAAQ,EAAEI,GAAG,CAACI,KAAK,CAACX,IAAI,CAACG,QAAQ,EAAE,GAAG,CAAC;EAEhDlC,WAAW,CAACkD,IAAI,CAACZ,GAAG,EAAEjC,YAAY,CAAC;EACnCH,SAAS,CAACgD,IAAI,CAACZ,GAAG,EAAEhC,cAAc,CAAC;EACnC,IAAIyB,IAAI,CAACoB,KAAK,EAAEb,GAAG,CAACI,KAAK,CAACX,IAAI,CAACoB,KAAK,EAAE,GAAG,CAAC;EAC1C,IAAIpB,IAAI,CAACqB,KAAK,EAAEd,GAAG,CAACI,KAAK,CAACX,IAAI,CAACqB,KAAK,EAAE,GAAG,CAAC;EAC1Cd,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACiB,IAAI,CAACsB,QAAQ,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;EAChDf,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACiB,IAAI,CAACuB,QAAQ,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;EAEhD,IAAIf,MAAM,EAAED,GAAG,CAACI,KAAK,CAACH,MAAM,EAAE,GAAG,CAAC;EAElCD,GAAG,CAACI,KAAK,CAAC5B,SAAS,CAACL,KAAK,CAAC6B,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;EAExC,OAAOA,GAAG;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}